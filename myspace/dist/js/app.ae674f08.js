(function(){"use strict";var e={7157:function(e,s,a){var t=a(9242),o=a(3396),n=a.p+"media/home.119df1ef.mp4";const r=e=>((0,o.dD)("data-v-7e27b7ff"),e=e(),(0,o.Cn)(),e),l={key:0,class:"homeview"},c=r((()=>(0,o._)("div",{class:"video"},[(0,o._)("video",{controls:"controls",autoplay:"",loop:"",muted:""},[(0,o._)("source",{src:n,type:"video/mp4"})])],-1))),i={key:1};function u(e,s,a,t,n,r){const u=(0,o.up)("NavBar_home"),p=(0,o.up)("HomeView"),d=(0,o.up)("NavBar"),m=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,["/"===e.$route.fullPath?((0,o.wg)(),(0,o.iD)("div",l,[c,(0,o.Wm)(u),((0,o.wg)(),(0,o.j4)(p,{key:e.$route.fullPath}))])):(0,o.kq)("",!0),"/"!==e.$route.fullPath?((0,o.wg)(),(0,o.iD)("div",i,[(0,o.Wm)(d),((0,o.wg)(),(0,o.j4)(m,{key:e.$route.fullPath}))])):(0,o.kq)("",!0)],64)}a(5654);var p=a(7139);const d=e=>((0,o.dD)("data-v-6b195f36"),e=e(),(0,o.Cn)(),e),m={class:"navbar navbar-expand-lg navbar-light bg-light",style:{"background-color":"blue"}},v={class:"container"},_=(0,o.Uk)("Yummy Zone"),f=d((()=>(0,o._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,o._)("span",{class:"navbar-toggler-icon"})],-1))),w={class:"collapse navbar-collapse",id:"navbarText"},g={class:"navbar-nav me-auto mb-2 mb-lg-0"},b={class:"nav-item"},y=(0,o.Uk)("Home"),h={class:"nav-item"},k=(0,o.Uk)("Community"),C={class:"nav-item"},U=(0,o.Uk)("Friends"),j=d((()=>(0,o._)("li",{class:"nav-item"},[(0,o._)("input",{type:"text",class:"form-control bg-transparent",placeholder:"Look for what :)"})],-1))),x=d((()=>(0,o._)("li",{class:"nav-item space",style:{color:"transparent"}},"x",-1))),D=d((()=>(0,o._)("li",{class:"nav-item"},[(0,o._)("button",{type:"submit",class:"form-control bg-transparent search-button"},"Search")],-1))),P={key:0,class:"navbar-nav"},B={class:"nav-item"},T=(0,o.Uk)("Login"),W={class:"nav-item"},O=(0,o.Uk)("Register"),I={key:1,class:"navbar-nav"},Z={class:"nav-item"},z={class:"nav-item"};function H(e,s,a,t,n,r){const l=(0,o.up)("router-link"),c=(0,o.up)("ui");return(0,o.wg)(),(0,o.iD)("nav",m,[(0,o._)("div",v,[(0,o.Wm)(l,{class:"navbar-brand",to:{name:"home",parmas:{}}},{default:(0,o.w5)((()=>[_])),_:1}),f,(0,o._)("div",w,[(0,o._)("ul",g,[(0,o._)("li",b,[(0,o.Wm)(l,{class:"nav-link",to:{name:"home"}},{default:(0,o.w5)((()=>[y])),_:1})]),(0,o._)("li",h,[(0,o.Wm)(l,{class:"nav-link",to:{name:"community"}},{default:(0,o.w5)((()=>[k])),_:1})]),(0,o._)("li",C,[(0,o.Wm)(l,{class:"nav-link",to:{name:"userlist"}},{default:(0,o.w5)((()=>[U])),_:1})])]),(0,o.Wm)(c,{class:"navbar-nav me-2 mb-2 mb-lg-0"},{default:(0,o.w5)((()=>[j,x,D])),_:1}),e.$store.state.user.is_login?((0,o.wg)(),(0,o.iD)("ul",I,[(0,o._)("li",Z,[(0,o.Wm)(l,{class:"nav-link",to:{name:"userprofile",params:{userId:e.$store.state.user.id}}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,p.zw)(e.$store.state.user.username),1)])),_:1},8,["to"])]),(0,o._)("li",z,[(0,o._)("a",{k:"",class:"nav-link",style:{cursor:"pointer"},onClick:s[0]||(s[0]=(...e)=>t.logout&&t.logout(...e))},"Logout")])])):((0,o.wg)(),(0,o.iD)("ul",P,[(0,o._)("li",B,[(0,o.Wm)(l,{class:"nav-link",to:{name:"login"}},{default:(0,o.w5)((()=>[T])),_:1})]),(0,o._)("li",W,[(0,o.Wm)(l,{class:"nav-link",to:{name:"register"}},{default:(0,o.w5)((()=>[O])),_:1})])]))])])])}var S=a(65),R={name:"NavBar",setup(){const e=(0,S.oR)(),s=()=>{e.commit("logout")};return{logout:s}}},V=a(89);const q=(0,V.Z)(R,[["render",H],["__scopeId","data-v-6b195f36"]]);var A=q;const $=e=>((0,o.dD)("data-v-dd942288"),e=e(),(0,o.Cn)(),e),F={class:"navbar navbar-expand-lg navbar-dark bg-transparent",style:{"background-color":"blue"}},L={class:"container"},Y=(0,o.Uk)("Yummy Zone"),E=$((()=>(0,o._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,o._)("span",{class:"navbar-toggler-icon"})],-1))),N={class:"collapse navbar-collapse",id:"navbarText"},M={class:"navbar-nav me-auto mb-2 mb-lg-0"},G={class:"nav-item"},K=(0,o.Uk)("Home"),J={class:"nav-item"},Q=(0,o.Uk)("Community"),X={class:"nav-item"},ee=(0,o.Uk)("Friends"),se=$((()=>(0,o._)("li",{class:"nav-item"},[(0,o._)("input",{type:"text",class:"form-control bg-transparent",placeholder:"Look for what :)"})],-1))),ae=$((()=>(0,o._)("li",{class:"nav-item space"},"x",-1))),te=$((()=>(0,o._)("li",{class:"nav-item"},[(0,o._)("button",{type:"submit",class:"form-control bg-transparent",style:{color:"#d4cdc6"}},"Search")],-1))),oe={key:0,class:"navbar-nav"},ne={class:"nav-item"},re=(0,o.Uk)("Login"),le={class:"nav-item"},ce=(0,o.Uk)("Register"),ie={key:1,class:"navbar-nav"},ue={class:"nav-item"},pe={class:"nav-item"};function de(e,s,a,t,n,r){const l=(0,o.up)("router-link"),c=(0,o.up)("ui");return(0,o.wg)(),(0,o.iD)("nav",F,[(0,o._)("div",L,[(0,o.Wm)(l,{class:"navbar-brand",to:{name:"home",parmas:{}}},{default:(0,o.w5)((()=>[Y])),_:1}),E,(0,o._)("div",N,[(0,o._)("ul",M,[(0,o._)("li",G,[(0,o.Wm)(l,{class:"nav-link",to:{name:"home"}},{default:(0,o.w5)((()=>[K])),_:1})]),(0,o._)("li",J,[(0,o.Wm)(l,{class:"nav-link",to:{name:"community"}},{default:(0,o.w5)((()=>[Q])),_:1})]),(0,o._)("li",X,[(0,o.Wm)(l,{class:"nav-link",to:{name:"userlist"}},{default:(0,o.w5)((()=>[ee])),_:1})])]),(0,o.Wm)(c,{class:"navbar-nav me-2 mb-2 mb-lg-0"},{default:(0,o.w5)((()=>[se,ae,te])),_:1}),e.$store.state.user.is_login?((0,o.wg)(),(0,o.iD)("ul",ie,[(0,o._)("li",ue,[(0,o.Wm)(l,{class:"nav-link",to:{name:"userprofile",params:{userId:e.$store.state.user.id}}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,p.zw)(e.$store.state.user.username),1)])),_:1},8,["to"])]),(0,o._)("li",pe,[(0,o._)("a",{k:"",class:"nav-link",style:{cursor:"pointer"},onClick:s[0]||(s[0]=(...e)=>t.logout&&t.logout(...e))},"Logout")])])):((0,o.wg)(),(0,o.iD)("ul",oe,[(0,o._)("li",ne,[(0,o.Wm)(l,{class:"nav-link",to:{name:"login"}},{default:(0,o.w5)((()=>[re])),_:1})]),(0,o._)("li",le,[(0,o.Wm)(l,{class:"nav-link",to:{name:"register"}},{default:(0,o.w5)((()=>[ce])),_:1})])]))])])])}var me={name:"NavBar_home",setup(){const e=(0,S.oR)(),s=()=>{e.commit("logout")};return{logout:s}}};const ve=(0,V.Z)(me,[["render",de],["__scopeId","data-v-dd942288"]]);var _e=ve;const fe=e=>((0,o.dD)("data-v-0427d2c3"),e=e(),(0,o.Cn)(),e),we={class:"container"},ge=fe((()=>(0,o._)("div",{class:"input-group mb-3"},[(0,o._)("p",{class:"header"},"Yummy Zone, Yummy Day!")],-1))),be=fe((()=>(0,o._)("div",{class:"input-group mb-3"},[(0,o._)("p",{class:"intro"},[(0,o.Uk)("Yummy Zone is a wonderful community where you can learn and share cooking! "),(0,o._)("br"),(0,o.Uk)("Just register and surfing on it... ")])],-1))),ye=[ge,be];function he(e,s,a,t,n,r){return(0,o.wg)(),(0,o.iD)("div",we,ye)}var ke={name:"HomeView",components:{}};const Ce=(0,V.Z)(ke,[["render",he],["__scopeId","data-v-0427d2c3"]]);var Ue=Ce,je={name:"App",components:{NavBar:A,NavBar_home:_e,HomeView:Ue}};const xe=(0,V.Z)(je,[["render",u],["__scopeId","data-v-7e27b7ff"]]);var De=xe,Pe=a(2483);const Be=e=>((0,o.dD)("data-v-8fad037e"),e=e(),(0,o.Cn)(),e),Te={class:"row justify-content-md-center"},We={class:"col-3"},Oe={class:"mb-3"},Ie=Be((()=>(0,o._)("label",{for:"username",class:"form-label"},"用户名",-1))),Ze={class:"mb-3"},ze=Be((()=>(0,o._)("label",{for:"password",class:"form-label"},"密码",-1))),He={class:"error-message"},Se=Be((()=>(0,o._)("button",{type:"submit",class:"btn btn-primary"},"登录",-1)));function Re(e,s,a,n,r,l){const c=(0,o.up)("ContentBase");return(0,o.wg)(),(0,o.j4)(c,null,{default:(0,o.w5)((()=>[(0,o._)("div",Te,[(0,o._)("div",We,[(0,o._)("form",{onSubmit:s[2]||(s[2]=(0,t.iM)(((...e)=>n.login&&n.login(...e)),["prevent"]))},[(0,o._)("div",Oe,[Ie,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>n.username=e),type:"text",class:"form-control",id:"username"},null,512),[[t.nr,n.username]])]),(0,o._)("div",Ze,[ze,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>n.password=e),type:"password",class:"form-control",id:"password"},null,512),[[t.nr,n.password]])]),(0,o._)("div",He,(0,p.zw)(n.error_message),1),Se],32)])])])),_:1})}a(7658);const Ve={class:"home"},qe={class:"container"},Ae={class:"card"},$e={class:"card-body"};function Fe(e,s,a,t,n,r){return(0,o.wg)(),(0,o.iD)("div",Ve,[(0,o._)("div",qe,[(0,o._)("div",Ae,[(0,o._)("div",$e,[(0,o.WI)(e.$slots,"default",{},void 0,!0)])])])])}var Le={name:"ContentBase"};const Ye=(0,V.Z)(Le,[["render",Fe],["__scopeId","data-v-08072d29"]]);var Ee=Ye,Ne=a(4870),Me={name:"LoginView",components:{ContentBase:Ee},setup(){const e=(0,S.oR)();let s=(0,Ne.iH)(""),a=(0,Ne.iH)(""),t=(0,Ne.iH)("");const o=()=>{t.value="",e.dispatch("login",{username:s.value,password:a.value,success(){ja.push({name:"userlist"})},error(){t.value="用户名或密码错误"}})};return{username:s,password:a,error_message:t,login:o}}};const Ge=(0,V.Z)(Me,[["render",Re],["__scopeId","data-v-8fad037e"]]);var Ke=Ge;const Je=(0,o.Uk)("404");function Qe(e,s,a,t,n,r){const l=(0,o.up)("ContentBase");return(0,o.wg)(),(0,o.j4)(l,null,{default:(0,o.w5)((()=>[Je])),_:1})}var Xe={name:"NotFound",components:{ContentBase:Ee}};const es=(0,V.Z)(Xe,[["render",Qe]]);var ss=es;const as=e=>((0,o.dD)("data-v-0a061829"),e=e(),(0,o.Cn)(),e),ts={class:"row justify-content-md-center"},os={class:"col-3"},ns={class:"mb-3"},rs=as((()=>(0,o._)("label",{for:"username",class:"form-label"},"用户名",-1))),ls={class:"mb-3"},cs=as((()=>(0,o._)("label",{for:"password",class:"form-label"},"密码",-1))),is={class:"mb-3"},us=as((()=>(0,o._)("label",{for:"password_confirm",class:"form-label"},"确认密码",-1))),ps={class:"error-message"},ds=as((()=>(0,o._)("button",{type:"submit",class:"btn btn-primary"},"注册",-1)));function ms(e,s,a,n,r,l){const c=(0,o.up)("ContentBase");return(0,o.wg)(),(0,o.j4)(c,null,{default:(0,o.w5)((()=>[(0,o._)("div",ts,[(0,o._)("div",os,[(0,o._)("form",{onSubmit:s[3]||(s[3]=(0,t.iM)(((...e)=>n.register&&n.register(...e)),["prevent"]))},[(0,o._)("div",ns,[rs,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>n.username=e),type:"text",class:"form-control",id:"username"},null,512),[[t.nr,n.username]])]),(0,o._)("div",ls,[cs,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>n.password=e),type:"password",class:"form-control",id:"password"},null,512),[[t.nr,n.password]])]),(0,o._)("div",is,[us,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>n.password_confirm=e),type:"password",class:"form-control",id:"password"},null,512),[[t.nr,n.password_confirm]])]),(0,o._)("div",ps,(0,p.zw)(n.error_message),1),ds],32)])])])),_:1})}var vs=a(7387),_s=a.n(vs),fs={name:"RegisterView",components:{ContentBase:Ee},setup(){const e=(0,S.oR)();let s=(0,Ne.iH)(""),a=(0,Ne.iH)(""),t=(0,Ne.iH)(""),o=(0,Ne.iH)("");const n=()=>{o.value="",_s().ajax({url:"https://app165.acapp.acwing.com.cn/myspace/user/",type:"POST",data:{username:s.value,password:a.value,password_confirm:t.value},success(t){"success"===t.result?e.dispatch("login",{username:s.value,password:a.value,success(){ja.push({name:"userlist"})},error(){o.value="系统异常，请稍后重试"}}):o.value=t.result}})};return{username:s,password:a,password_confirm:t,error_message:o,register:n}}};const ws=(0,V.Z)(fs,[["render",ms],["__scopeId","data-v-0a061829"]]);var gs=ws;const bs=["onClick"],ys={class:"card-body"},hs={class:"row"},ks={class:"col-1 img-field"},Cs=["src"],Us={class:"col-11"},js={class:"username"},xs={class:"follow-count"};function Ds(e,s,a,t,n,r){const l=(0,o.up)("ContentBase");return(0,o.wg)(),(0,o.j4)(l,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.users,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"card",key:e.id,onClick:s=>t.open_user_profile(e.id)},[(0,o._)("div",ys,[(0,o._)("div",hs,[(0,o._)("div",ks,[(0,o._)("img",{class:"img-fluid",src:e.photo,alt:""},null,8,Cs)]),(0,o._)("div",Us,[(0,o._)("div",js,(0,p.zw)(e.username),1),(0,o._)("div",xs,(0,p.zw)(e.followerCount),1)])])])],8,bs)))),128))])),_:1})}var Ps={name:"UserList",components:{ContentBase:Ee},setup(){const e=(0,S.oR)();let s=(0,Ne.iH)([]);_s().ajax({url:"https://app165.acapp.acwing.com.cn/myspace/userlist/",type:"get",success(e){s.value=e}});const a=s=>{e.state.user.is_login?ja.push({name:"userprofile",params:{userId:s}}):ja.push({name:"login"})};return{users:s,open_user_profile:a}}};const Bs=(0,V.Z)(Ps,[["render",Ds],["__scopeId","data-v-9dc2a908"]]);var Ts=Bs;const Ws={class:"row"},Os={class:"col-3"},Is={class:"col-9"};function Zs(e,s,a,t,n,r){const l=(0,o.up)("UserProfileInfo"),c=(0,o.up)("UserProfileWrite"),i=(0,o.up)("UserProfilePosts"),u=(0,o.up)("ContentBase");return(0,o.wg)(),(0,o.j4)(u,null,{default:(0,o.w5)((()=>[(0,o._)("div",Ws,[(0,o._)("div",Os,[(0,o.Wm)(l,{onFollow:t.follow,onUnfollow:t.unfollow,user:t.user},null,8,["onFollow","onUnfollow","user"]),t.is_me?((0,o.wg)(),(0,o.j4)(c,{key:0,onPost_a_post:t.post_a_post},null,8,["onPost_a_post"])):(0,o.kq)("",!0)]),(0,o._)("div",Is,[(0,o.Wm)(i,{user:t.user,posts:t.posts,onDelete_a_post:t.delete_a_post},null,8,["user","posts","onDelete_a_post"])])])])),_:1})}a(541);const zs={class:"card"},Hs={class:"card-body"},Ss={class:"row"},Rs={class:"col-3 img-field"},Vs=["src"],qs={class:"col-9"},As={class:"username"},$s={class:"fans"};function Fs(e,s,a,t,n,r){return(0,o.wg)(),(0,o.iD)("div",zs,[(0,o._)("div",Hs,[(0,o._)("div",Ss,[(0,o._)("div",Rs,[(0,o._)("img",{class:"img-fluid",src:a.user.photo,alt:"用户头像"},null,8,Vs)]),(0,o._)("div",qs,[(0,o._)("div",As,(0,p.zw)(a.user.username),1),(0,o._)("div",$s,"粉丝: "+(0,p.zw)(a.user.followerCount),1),a.user.is_followed?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:s[0]||(s[0]=(...e)=>t.follow&&t.follow(...e)),type:"button",class:"btn btn-secondary btn-sm"},"+关注")),a.user.is_followed?((0,o.wg)(),(0,o.iD)("button",{key:1,onClick:s[1]||(s[1]=(...e)=>t.unfollow&&t.unfollow(...e)),type:"button",class:"btn btn-secondary btn-sm"},"取消关注")):(0,o.kq)("",!0)])])])])}var Ls={name:"UserProfileInfo",props:{user:{type:Object,required:!0}},setup(e,s){const a=(0,S.oR)(),t=()=>{_s().ajax({url:"https://app165.acapp.acwing.com.cn/myspace/follow/",type:"POST",data:{target_id:e.user.id},headers:{Authorization:"Bearer "+a.state.user.access},success(e){"success"===e.result&&s.emit("follow")}})},o=()=>{_s().ajax({url:"https://app165.acapp.acwing.com.cn/myspace/follow/",type:"POST",data:{target_id:e.user.id},headers:{Authorization:"Bearer "+a.state.user.access},success(e){"success"===e.result&&s.emit("unfollow")}})};return{follow:t,unfollow:o}}};const Ys=(0,V.Z)(Ls,[["render",Fs],["__scopeId","data-v-05f3a1bc"]]);var Es=Ys;const Ns={class:"card"},Ms={class:"card-body"},Gs={class:"card single-post"},Ks={class:"card-body"},Js=["onClick"];function Qs(e,s,a,t,n,r){return(0,o.wg)(),(0,o.iD)("div",Ns,[(0,o._)("div",Ms,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.posts.posts,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id},[(0,o._)("div",Gs,[(0,o.Uk)((0,p.zw)(e.id)+" ",1),(0,o._)("div",Ks,[(0,o.Uk)((0,p.zw)(e.content)+" ",1),t.is_me?((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:s=>t.delete_a_post(e.id),type:"button",class:"btn btn-danger btn-small"},"删除",8,Js)):(0,o.kq)("",!0)])])])))),128))])])}var Xs={name:"UserProfilePosts",props:{posts:{type:Object,required:!0},user:{type:Object,required:!0}},setup(e,s){const a=(0,S.oR)();let t=(0,o.Fl)((()=>a.state.user.is===e.user.id));const n=e=>{_s().ajax({url:"https://app165.acapp.acwing.com.cn/myspace/post/",type:"DELETE",data:{post_id:e},headers:{Authorization:"Bearer "+a.state.user.access},success(a){"success"===a.result&&s.emit("delete_a_post",e)}})};return{is_me:t,delete_a_post:n}}};const ea=(0,V.Z)(Xs,[["render",Qs]]);var sa=ea;const aa=e=>((0,o.dD)("data-v-29c7e6fa"),e=e(),(0,o.Cn)(),e),ta={class:"card edit-field"},oa={class:"card-body"},na=aa((()=>(0,o._)("label",{for:"edit-post",class:"form-label"},"编辑帖子",-1)));function ra(e,s,a,n,r,l){return(0,o.wg)(),(0,o.iD)("div",ta,[(0,o._)("div",oa,[na,(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":s[0]||(s[0]=e=>n.content=e),class:"form-control",id:"exampleFormControlTextarea1",rows:"3"},null,512),[[t.nr,n.content]]),(0,o._)("button",{onClick:s[1]||(s[1]=(...e)=>n.post_a_post&&n.post_a_post(...e)),type:"button",class:"btn btn-primary btn-sm"},"发帖")])])}var la={name:"UserProfileWrite",setup(e,s){const a=(0,S.oR)();let t=(0,Ne.iH)("");const o=()=>{_s().ajax({url:"https://app165.acapp.acwing.com.cn/myspace/post/",type:"POST",data:{content:t.value},headers:{Authorization:"Bearer "+a.state.user.access},success(e){"success"===e.result&&(s.emit("post_a_post",t.value),t.value="")}})};return{content:t,post_a_post:o}}};const ca=(0,V.Z)(la,[["render",ra],["__scopeId","data-v-29c7e6fa"]]);var ia=ca,ua={name:"UserProfile",components:{ContentBase:Ee,UserProfileInfo:Es,UserProfilePosts:sa,UserProfileWrite:ia},setup(){const e=(0,S.oR)(),s=(0,Pe.yj)(),a=parseInt(s.params.userId),t=(0,Ne.qj)({}),n=(0,Ne.qj)({});_s().ajax({url:"https://app165.acapp.acwing.com.cn/myspace/getinfo/",type:"GET",data:{user_id:a},headers:{Authorization:"Bearer "+e.state.user.access},success(e){t.id=e.id,t.username=e.username,t.photo=e.photo,t.followerCount=e.followerCount,t.is_followed=e.is_followed}}),_s().ajax({url:"https://app165.acapp.acwing.com.cn/myspace/post/",type:"GET",data:{user_id:a},headers:{Authorization:"Bearer "+e.state.user.access},success(e){n.count=e.length,n.posts=e}});const r=()=>{t.is_followed||(t.is_followed=!0,t.followerCount++)},l=()=>{t.is_followed&&(t.is_followed=!1,t.followerCount--)},c=e=>{n.count++,n.posts.unshift({id:n.count,userId:1,content:e})},i=e=>{n.posts=n.posts.filter((s=>s.id!==e)),n.count=n.posts.length},u=(0,o.Fl)((()=>a===e.state.user.id));return{user:t,follow:r,unfollow:l,posts:n,post_a_post:c,delete_a_post:i,is_me:u}}};const pa=(0,V.Z)(ua,[["render",Zs]]);var da=pa;const ma=(0,o.Uk)("社区精选");function va(e,s,a,t,n,r){const l=(0,o.up)("ContentBase");return(0,o.wg)(),(0,o.j4)(l,null,{default:(0,o.w5)((()=>[ma])),_:1})}var _a={name:"CommunitySelected",components:{ContentBase:Ee}};const fa=(0,V.Z)(_a,[["render",va]]);var wa=fa;const ga=(0,o.Uk)("搜索结果");function ba(e,s,a,t,n,r){const l=(0,o.up)("ContentBase");return(0,o.wg)(),(0,o.j4)(l,null,{default:(0,o.w5)((()=>[ga])),_:1})}var ya={name:"SearchView",components:{ContentBase:Ee}};const ha=(0,V.Z)(ya,[["render",ba]]);var ka=ha;const Ca=[{path:"/",name:"home",component:Ue},{path:"/login/",name:"login",component:Ke},{path:"/404/",name:"notfound",component:ss},{path:"/register/",name:"register",component:gs},{path:"/userlist/",name:"userlist",component:Ts},{path:"/userprofile/:userId/",name:"userprofile",component:da},{path:"/community/",name:"community",component:wa},{path:"/search/",name:"search",component:ka},{path:"/:catchAll(.*)",redirect:"/404"}],Ua=(0,Pe.p7)({history:(0,Pe.PO)(),routes:Ca});var ja=Ua,xa=a(1598);const Da={state:{user:{id:"",username:"",photo:"",followerCount:0,access:"",refresh:"",is_login:!1}},getters:{},mutations:{updateUser(e,s){e.id=s.id,e.username=s.username,e.photo=s.photo,e.followerCount=s.followerCount,e.access=s.access,e.refresh=s.refresh,e.is_login=s.is_login},updateAccess(e,s){e.access=s},logout(e){e.id="",e.username="",e.photo="",e.followerCount=0,e.access="",e.refresh="",e.is_login=!1}},actions:{login(e,s){_s().ajax({url:"https://app165.acapp.acwing.com.cn/api/token/",type:"POST",data:{username:s.username,password:s.password},success(a){const{access:t,refresh:o}=a,n=(0,xa.Z)(t);setInterval((()=>{_s().ajax({url:"https://app165.acapp.acwing.com.cn/api/token/refresh/",type:"POST",data:{refresh:o},success(s){e.commit("updateAccess",s.access)}})}),27e4),_s().ajax({url:"https://app165.acapp.acwing.com.cn/myspace/getinfo/",type:"GET",data:{user_id:n.user_id},headers:{Authorization:"Bearer "+t},success(a){e.commit("updateUser",{...a,access:t,refresh:o,is_login:!0}),s.success()}})},error(){s.error()}})}},modules:{}};var Pa=Da,Ba=(0,S.MT)({state:{},getters:{},mutations:{},actions:{},modules:{user:Pa}});(0,t.ri)(De).use(Ba).use(ja).mount("#app")}},s={};function a(t){var o=s[t];if(void 0!==o)return o.exports;var n=s[t]={exports:{}};return e[t].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(s,t,o,n){if(!t){var r=1/0;for(u=0;u<e.length;u++){t=e[u][0],o=e[u][1],n=e[u][2];for(var l=!0,c=0;c<t.length;c++)(!1&n||r>=n)&&Object.keys(a.O).every((function(e){return a.O[e](t[c])}))?t.splice(c--,1):(l=!1,n<r&&(r=n));if(l){e.splice(u--,1);var i=o();void 0!==i&&(s=i)}}return s}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[t,o,n]}}(),function(){a.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(s,{a:s}),s}}(),function(){a.d=function(e,s){for(var t in s)a.o(s,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:s[t]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={143:0};a.O.j=function(s){return 0===e[s]};var s=function(s,t){var o,n,r=t[0],l=t[1],c=t[2],i=0;if(r.some((function(s){return 0!==e[s]}))){for(o in l)a.o(l,o)&&(a.m[o]=l[o]);if(c)var u=c(a)}for(s&&s(t);i<r.length;i++)n=r[i],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(u)},t=self["webpackChunkmyspace"]=self["webpackChunkmyspace"]||[];t.forEach(s.bind(null,0)),t.push=s.bind(null,t.push.bind(t))}();var t=a.O(void 0,[998],(function(){return a(7157)}));t=a.O(t)})();
//# sourceMappingURL=app.ae674f08.js.map